# ═══════════════════════════════════════════════════════════
# Variables de Entorno para Docker - Arma Multiclan Platform
# ═══════════════════════════════════════════════════════════
#
# Copia este archivo a .env y configura los valores:
#   cp .env.example .env
#
# ═══════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────
# BASE DE DATOS
# ─────────────────────────────────────────────────────────
POSTGRES_USER=arma_user
POSTGRES_PASSWORD=cambia_esta_contraseña_segura
POSTGRES_DB=arma_platform
POSTGRES_PORT=5432

# ─────────────────────────────────────────────────────────
# BACKEND
# ─────────────────────────────────────────────────────────
NODE_ENV=production
BACKEND_PORT=3000

# IMPORTANTE: Genera un secreto seguro con: openssl rand -base64 32
JWT_SECRET=CAMBIA_ESTO_genera_un_secreto_seguro_de_al_menos_32_caracteres
JWT_EXPIRES_IN=7d

# ─────────────────────────────────────────────────────────
# FRONTEND
# ─────────────────────────────────────────────────────────
FRONTEND_PORT=80

# URL del API: ruta relativa via reverse proxy de nginx (RECOMENDADO)
# Nginx reenvía /api/* al backend internamente.
# Esto permite acceder desde cualquier IP/dominio sin problemas de CORS.
VITE_API_URL=/api

# URL del frontend (para CORS y redirecciones OAuth en el backend)
# Usa tu IP pública o dominio CON EL PUERTO si no es el 80.
# Ejemplos:
#   http://midominio.com          (puerto 80, se omite)
#   http://midominio.com:45375    (puerto no estándar, OBLIGATORIO incluirlo)
#   http://192.168.1.20:8080      (IP local con puerto)
FRONTEND_URL=http://localhost

# ─────────────────────────────────────────────────────────
# CORS - Orígenes Adicionales (OPCIONAL)
# ─────────────────────────────────────────────────────────
# Orígenes extra separados por comas para permitir acceso directo al backend.
# Útil para IPs de LAN cuando los clientes no pasan por el reverse proxy.
# Ejemplo: http://192.168.1.20:45375,http://10.0.0.5:45375
CORS_EXTRA_ORIGINS=

# ─────────────────────────────────────────────────────────
# DISCORD OAUTH2 (OPCIONAL)
# ─────────────────────────────────────────────────────────
# Obtén estos valores en https://discord.com/developers/applications
# IMPORTANTE: DISCORD_REDIRECT_URI debe coincidir EXACTAMENTE (carácter a carácter)
# con la registrada en Discord, incluyendo el puerto si no es el 80.
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
DISCORD_REDIRECT_URI=http://localhost/api/auth/discord/callback

# ─────────────────────────────────────────────────────────
# COOKIES (Seguridad)
# ─────────────────────────────────────────────────────────
# COOKIE_SECURE=true  → Solo enviar cookies por HTTPS (activar con certificado SSL)
# COOKIE_SECURE=false → Permitir cookies por HTTP (necesario sin HTTPS)
# IMPORTANTE: Si usas HTTP, DEBE ser false o las cookies no se guardarán.
COOKIE_SECURE=false
COOKIE_SAMESITE=lax
